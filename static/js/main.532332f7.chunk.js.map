{"version":3,"sources":["images/header-logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/constants.js","utils/api.js","utils/auth.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","images/auth-failure.svg","images/auth-success.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","onSignOut","className","src","logo","alt","path","to","onClick","Footer","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardRemoveButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onCardClick","type","aria-label","onCardDelete","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","id","cards","map","PopupWithForm","isOpen","onClose","title","onSubmit","noValidate","children","submitButtonText","ImagePopup","AUTH_BASE_URL","document","querySelector","api","baseUrl","headers","this","_baseUrl","_headers","result","ok","json","Promise","reject","status","fetch","method","then","_checkRequestStatus","body","JSON","stringify","authorization","responseCheck","response","EditProfilePopup","useState","setName","description","setDescription","useEffect","isLoading","event","preventDefault","onUpdateUser","value","onChange","target","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ProtectedRoute","Component","component","loggedIn","Login","onLogin","password","data","setData","handleChange","Register","onRegister","initialData","e","resetForm","InfoTooltip","success","authSuccessImage","authFailureImage","App","setLoggedIn","setEmail","history","useHistory","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","setSuccess","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","tokenCheck","useCallback","token","localStorage","getItem","checkToken","push","catch","closeAllPopups","getUserInfo","error","console","log","getInitialCards","Provider","removeItem","register","authorize","setItem","deleteLike","addCardLike","newCard","newCards","c","deleteCard","filter","user","updateUserProfile","updatedUser","finally","postNewCard","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"uNAAe,MAA0B,wC,OC2C1BA,MAvCf,YAAqC,IAApBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,UAKtB,OACE,yBAAQC,UAAU,SAAlB,UACE,qBAAKC,IAAKC,EAAMC,IAAI,wCAAoBH,UAAU,iBAClD,8BACE,oBAAIA,UAAU,qBAAd,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOI,KAAK,WAAZ,SACE,6BACE,cAAC,IAAD,CAAMC,GAAG,WAAWL,UAAU,eAA9B,gDAGJ,cAAC,IAAD,CAAOI,KAAK,WAAZ,SACE,6BACE,cAAC,IAAD,CAAMC,GAAG,WAAWL,UAAU,eAA9B,oFAGJ,cAAC,IAAD,CAAOI,KAAK,IAAZ,SACE,sBAAKJ,UAAU,oBAAf,UACE,6BACE,mBAAGA,UAAU,gBAAb,SAA8BF,MAEhC,6BACE,cAAC,IAAD,CAAMO,GAAG,WAAWL,UAAU,eAAeM,QA1BvC,WACpBP,KAyBc,8DCrBHQ,MARf,WACE,OACE,wBAAQP,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,kCCHOQ,EAAqBC,IAAMC,gBC0CzBC,MAzCf,SAAcC,GACZ,IAAMC,EAAcJ,IAAMK,WAAWN,GAE/BO,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IAC7CC,EAAyB,+BACLJ,EAAQ,uBAAyB,+BAGrDK,EAAUR,EAAMI,KAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAC3DM,EAAuB,6BACLJ,EAAU,4BAA8B,sBAehE,OACE,sBAAKpB,UAAU,eAAf,UACE,sBAAKA,UAAU,yBAAf,UACE,qBAAKC,IAAKW,EAAMI,KAAKS,KAAMtB,IAAKS,EAAMI,KAAKU,KAAM1B,UAAU,eAAeM,QAfhF,WACEM,EAAMe,YAAYf,EAAMI,SAepB,wBAAQY,KAAK,SAASC,aAAW,SAAS7B,UAAWmB,EAA2Bb,QARtF,WACEM,EAAMkB,aAAalB,EAAMI,YASvB,sBAAKhB,UAAU,0BAAf,UACE,mBAAGA,UAAU,qBAAb,SAAmCY,EAAMI,KAAKU,OAC9C,sBAAK1B,UAAU,kBAAf,UACE,wBAAQ4B,KAAK,SAASC,aAAW,OAAO7B,UAAWwB,EAAyBlB,QAjBpF,WACEM,EAAMmB,WAAWnB,EAAMI,SAiBjB,mBAAGhB,UAAU,sBAAb,SAAoCY,EAAMI,KAAKK,MAAMW,mBCEhDC,MApCf,SAAcrB,GACZ,IAAMC,EAAcJ,IAAMK,WAAWN,GAErC,OACE,uBAAMR,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,uBAAf,UACE,qBAAKC,IAAKY,EAAYqB,OAAQ/B,IAAI,IAAIH,UAAU,qBAChD,qBAAKA,UAAU,mBAAmBM,QAASM,EAAMuB,kBAEnD,sBAAKnC,UAAU,gBAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+Ba,EAAYa,OAC3C,wBAAQE,KAAK,SAASC,aAAW,OAAO7B,UAAU,uBAAuBM,QAASM,EAAMwB,mBAE1F,mBAAGpC,UAAU,iBAAb,SAA+Ba,EAAYwB,WAE7C,wBAAQT,KAAK,SAASC,aAAW,MAAM7B,UAAU,sBAAsBM,QAASM,EAAM0B,gBAGxF,qBAAKC,GAAG,iBAAiBvC,UAAU,QAAnC,SACGY,EAAM4B,MAAMC,KAAI,SAACzB,GAAD,OACb,cAAC,EAAD,CAEEA,KAAMA,EACNW,YAAaf,EAAMe,YACnBI,WAAYnB,EAAMmB,WAClBD,aAAclB,EAAMkB,cAJfd,EAAKE,cCNTwB,MAnBf,SAAuB9B,GACrB,OACE,qBAAKZ,UAAS,2BAAsBY,EAAMc,KAA5B,YAAoCd,EAAM+B,OAAS,eAAiB,IAAlF,SACE,sBAAK3C,UAAU,iBAAf,UACE,wBAAQ4B,KAAK,SAASC,aAAW,QACzB7B,UAAS,kDAA6CY,EAAMc,MAC5DpB,QAASM,EAAMgC,UAEvB,oBAAI5C,UAAU,eAAd,SAA8BY,EAAMiC,QACpC,uBAAMnB,KAAI,UAAKd,EAAMc,KAAX,QAAuB1B,UAAS,6BAAwBY,EAAMc,KAA9B,SAA2CoB,SAAUlC,EAAMkC,SAC/FC,YAAU,EADhB,UAEGnC,EAAMoC,SACP,wBAAQpB,KAAK,SAASC,aAAW,OAAO7B,UAAU,qBAAlD,SAAwEY,EAAMqC,4BCOzEC,MAnBf,SAAoBtC,GAClB,OACE,sBAAKZ,UAAS,iCAA4BY,EAAMI,KAAO,eAAiB,IAAxE,UACE,qBAAKhB,UAAU,YACf,sBAAKA,UAAU,wBAAf,UACE,wBAAQ4B,KAAK,SAASC,aAAW,QACzB7B,UAAU,gDACVM,QAASM,EAAMgC,UAEvB,uBAAMlB,KAAK,YAAY1B,UAAU,qBAAjC,UACE,qBAAKC,IAAKW,EAAMI,KAAOJ,EAAMI,KAAKS,KAAO,IAAKtB,IAAKS,EAAMI,KAAOJ,EAAMI,KAAKU,KAAO,GAC7E1B,UAAU,iBACf,qBAAKA,UAAU,UAAf,SAA0BY,EAAMI,KAAOJ,EAAMI,KAAKU,KAAO,e,gBCqBtDyB,GAnCaC,SAASC,cAAc,yBACpBD,SAASC,cAAc,wBACtBD,SAASC,cAAc,qBAC1BD,SAASC,cAAc,kBACtBD,SAASC,cAAc,mBACZD,SAASC,cAAc,gCAChCD,SAASC,cAAc,2BACtBD,SAASC,cAAc,4BAE1BD,SAASC,cAAc,uBAC1BD,SAASC,cAAc,oBACtBD,SAASC,cAAc,qBACtBD,SAASC,cAAc,sBACjBD,SAASC,cAAc,4BACZD,SAASC,cAAc,qCAC/BD,SAASC,cAAc,6BAC9BD,SAASC,cAAc,qBACpBD,SAASC,cAAc,wBAClBD,SAASC,cAAc,8BAC9BD,SAASC,cAAc,iCACxBD,SAASC,cAAc,gCACrBD,SAASC,cAAc,kCACvBD,SAASC,cAAc,uBACrBD,SAASC,cAAc,yBAClBD,SAASC,cAAc,+BAWhC,iCCwEhBC,EAAM,I,WAxGjB,cAAiC,IAApBC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,QAAU,oBAC9BC,KAAKC,SAAWH,EAChBE,KAAKE,SAAWH,E,gEAGEI,GAClB,OAAIA,EAAOC,GACFD,EAAOE,OAETC,QAAQC,OAAR,0GAAuCJ,EAAOK,W,oCAGxC,IAAD,OACZ,OAAOC,MAAM,GAAD,OAAIT,KAAKC,SAAT,aAA8B,CACxCS,OAAQ,MACRX,QAASC,KAAKE,WAEbS,MAAK,SAAAR,GACJ,OAAO,EAAKS,oBAAoBT,Q,wCAInB,IAAD,OAChB,OAAOM,MAAM,GAAD,OAAIT,KAAKC,SAAT,UAA2B,CACrCS,OAAQ,MACRX,QAASC,KAAKE,WAEbS,MAAK,SAAAR,GACJ,OAAO,EAAKS,oBAAoBT,Q,wCAIpBlC,EAAMmB,GAAQ,IAAD,OAC7B,OAAOqB,MAAM,GAAD,OAAIT,KAAKC,SAAT,aAA8B,CACxCS,OAAQ,QACRX,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnB9C,KAAMA,EACNW,MAAOQ,MAGRuB,MAAK,SAAAR,GACJ,OAAO,EAAKS,oBAAoBT,Q,kCAI1BlC,EAAMD,GAAO,IAAD,OACtB,OAAOyC,MAAM,GAAD,OAAIT,KAAKC,SAAT,UAA2B,CACrCS,OAAQ,OACRX,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnB9C,KAAMA,EACND,KAAMA,MAGP2C,MAAK,SAAAR,GACJ,OAAO,EAAKS,oBAAoBT,Q,kCAI1BrB,GAAK,IAAD,OACd,OAAO2B,MAAM,GAAD,OAAIT,KAAKC,SAAT,wBAAiCnB,GAAM,CACjD4B,OAAQ,MACRX,QAASC,KAAKE,WAEbS,MAAK,SAAAR,GACJ,OAAO,EAAKS,oBAAoBT,Q,iCAI3BrB,GAAK,IAAD,OACb,OAAO2B,MAAM,GAAD,OAAIT,KAAKC,SAAT,wBAAiCnB,GAAM,CACjD4B,OAAQ,SACRX,QAASC,KAAKE,WAEbS,MAAK,SAAAR,GACJ,OAAO,EAAKS,oBAAoBT,Q,iCAI3BrB,GAAK,IAAD,OACb,OAAO2B,MAAM,GAAD,OAAIT,KAAKC,SAAT,kBAA2BnB,GAAM,CAC3C4B,OAAQ,SACRX,QAASC,KAAKE,WAEbS,MAAK,SAAAR,GACJ,OAAO,EAAKS,oBAAoBT,Q,mCAIzBnC,GAAO,IAAD,OACjB,OAAOyC,MAAM,GAAD,OAAIT,KAAKC,SAAT,oBAAqC,CAC/CS,OAAQ,QACRX,QAASC,KAAKE,SACdW,KAAMC,KAAKC,UAAU,CACnBtC,OAAQT,MAGT2C,MAAK,SAAAR,GACJ,OAAO,EAAKS,oBAAoBT,U,KAKrB,CAAQ,CACzBL,QD1EsB,8CC2EtBC,QAAS,CACPiB,cD7EiB,uCC8EjB,eAAgB,sBC7GdC,EAAgB,SAACC,GAAD,OAAcA,EAASd,GACzCc,EAASb,OACTC,QAAQC,OAAR,+CAAyBW,EAASV,UC+CvBW,MA/Cf,SAA0BhE,GACxB,IAAMC,EAAcC,qBAAWN,GADA,EAEPqE,mBAAShE,EAAYa,MAFd,mBAExBA,EAFwB,KAElBoD,EAFkB,OAGOD,mBAAShE,EAAYwB,OAH5B,mBAGxB0C,EAHwB,KAGXC,EAHW,KA0B/B,OArBAC,qBAAU,WACRH,EAAQjE,EAAYa,MACpBsD,EAAenE,EAAYwB,SAC1B,CAACxB,IAmBF,eAAC,EAAD,CACEa,KAAM,UACNmB,MAAO,4HACPI,iBAAkBrC,EAAMsE,UAAY,4DAAiB,yDACrDvC,OAAQ/B,EAAM+B,OACdC,QAAShC,EAAMgC,QACfE,SAfJ,SAAsBqC,GACpBA,EAAMC,iBACNxE,EAAMyE,aAAa,CACjB3D,OACAW,MAAO0C,KAKT,UAQE,uBAAOnD,KAAK,OAAOF,KAAK,OAAO1B,UAAU,sCAAsCuC,GAAG,aAC3E+C,MAAO5D,GAAQ,GAAI6D,SA1B9B,SAA0BJ,GACxBL,EAAQK,EAAMK,OAAOF,QA0BZG,YAAY,qBAAMC,UAAW,EAAGC,UAAW,GAAIC,UAAQ,IAC9D,sBAAMrD,GAAG,mBAAmBvC,UAAU,gBACtC,uBAAO4B,KAAK,OAAOF,KAAK,QAAQ1B,UAAU,uCAAuCuC,GAAG,cAC7E+C,MAAOP,GAAe,GAAIQ,SA1BrC,SAAiCJ,GAC/BH,EAAeG,EAAMK,OAAOF,QA0BnBG,YAAY,kCAASC,UAAW,EAAGC,UAAW,IAAKC,UAAQ,IAClE,sBAAMrD,GAAG,oBAAoBvC,UAAU,oBCf9B6F,MA5Bf,SAAyBjF,GACvB,IAAMkF,EAAYC,mBAUlB,OACE,eAAC,EAAD,CACErE,KAAM,SACNmB,MAAO,wFACPI,iBAAkBrC,EAAMsE,UAAY,4DAAiB,yDACrDvC,OAAQ/B,EAAM+B,OACdC,QAAShC,EAAMgC,QACfE,SAfJ,SAAsBqC,GACpBA,EAAMC,iBACNxE,EAAMoF,eAAe,CACnB9D,OAAQ4D,EAAUG,QAAQX,QAE5BQ,EAAUG,QAAQX,MAAQ,IAI1B,UAQE,uBAAO1D,KAAK,MAAMF,KAAK,OAAO1B,UAAU,6CAA6CuC,GAAG,oBACjFkD,YAAY,qGAAqBS,IAAKJ,EAAWF,UAAQ,IAChE,sBAAMrD,GAAG,0BAA0BvC,UAAU,uCCsBpCmG,MA5Cf,SAAuBvF,GAAQ,IAAD,EACJiE,mBAAS,IADL,mBACrBnD,EADqB,KACfoD,EADe,OAEJD,mBAAS,IAFL,mBAErBpD,EAFqB,KAEf2E,EAFe,KAsB5B,OACE,eAAC,EAAD,CACE1E,KAAM,OACNmB,MAAO,gEACPI,iBAAkBrC,EAAMsE,UAAY,4DAAiB,yDACrDvC,OAAQ/B,EAAM+B,OACdC,QAAShC,EAAMgC,QACfE,SAjBJ,SAAsBqC,GACpBA,EAAMC,iBACNxE,EAAM0B,WAAW,CACfZ,OACAD,SAEFqD,EAAQ,IACRsB,EAAQ,KAIR,UAQE,uBAAOxE,KAAK,OAAOF,KAAK,OAAO1B,UAAU,4CAA4CuC,GAAG,mBACjF+C,MAAO5D,EAAM6D,SA5BxB,SAA0BJ,GACxBL,EAAQK,EAAMK,OAAOF,QA4BZG,YAAY,mDAAWC,UAAW,EAAGC,UAAW,GAAIC,UAAQ,IACnE,sBAAMrD,GAAG,yBAAyBvC,UAAU,gBAC5C,uBAAO4B,KAAK,MAAMF,KAAK,OAAO1B,UAAU,2CAA2CuC,GAAG,kBAC/E+C,MAAO7D,EAAM8D,SA5BxB,SAA0BJ,GACxBiB,EAAQjB,EAAMK,OAAOF,QA4BZG,YAAY,qGAAqBG,UAAQ,IAChD,sBAAMrD,GAAG,wBAAwBvC,UAAU,oB,eC5BlCqG,EAVQ,SAAC,GAAsC,IAA1BC,EAAyB,EAApCC,UAAyB3F,EAAW,6BAC3D,OACE,cAAC,IAAD,UAEI,kBAAyB,IAAnBA,EAAM4F,SAAoB,cAACF,EAAD,eAAe1F,IAAY,cAAC,IAAD,CAAUP,GAAG,kB,OCqCjEoG,MA1Cf,YAA2B,IAAXC,EAAU,EAAVA,QAAU,EAKA7B,mBAJJ,CAClB/E,MAAO,GACP6G,SAAU,KAHY,mBAKjBC,EALiB,KAKXC,EALW,KAOlBC,EAAe,SAAC3B,GAAW,IAAD,EACRA,EAAMK,OAArB9D,EADuB,EACvBA,KAAM4D,EADiB,EACjBA,MACbuB,GAAQ,SAAAD,GAAI,kCACPA,GADO,kBAETlF,EAAO4D,QAYZ,OACE,sBAAKtF,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,sCACA,uBAAM0B,KAAK,QAAQ1B,UAAU,aAAa8C,SAXzB,SAACqC,GACpBA,EAAMC,iBACDwB,EAAK9G,OAAU8G,EAAKD,UAGzBD,EAAQE,IAMN,UACE,uBAAOhF,KAAK,QAAQF,KAAK,QAAQ1B,UAAU,qCACpCsF,MAAOsB,EAAK9G,MAAOyF,SAAUuB,EAC7BrB,YAAY,QAAQG,UAAQ,IAEnC,uBAAOhE,KAAK,WAAWF,KAAK,WAAW1B,UAAU,wCAC1CsF,MAAOsB,EAAKD,SAAUpB,SAAUuB,EAChCrB,YAAY,uCAASC,UAAW,EAAGC,UAAW,GAAIC,UAAQ,IAEjE,wBAAQhE,KAAK,SAASC,aAAW,OAAO7B,UAAU,8CAAlD,mDCkBO+G,MApDf,YAAiC,IAAdC,EAAa,EAAbA,WACXC,EAAc,CAClBnH,MAAO,GACP6G,SAAU,IAHkB,EAKN9B,mBAASoC,GALH,mBAKvBL,EALuB,KAKjBC,EALiB,KAOxBC,EAAe,SAACI,GAAO,IAAD,EACJA,EAAE1B,OAAjB9D,EADmB,EACnBA,KAAM4D,EADa,EACbA,MACbuB,GAAQ,SAAAD,GAAI,kCACPA,GADO,kBAETlF,EAAO4D,QAIN6B,EAAY,WAChBN,EAAQI,IAYV,OACE,sBAAKjH,UAAU,OAAf,UACE,oBAAIA,UAAU,cAAd,gFACA,uBAAM0B,KAAK,QAAQ1B,UAAU,aAAa8C,SAZzB,SAACqC,GACpBA,EAAMC,iBACDwB,EAAK9G,OAAU8G,EAAKD,UAGzBK,EAAWJ,GACRxC,KAAK+C,IAMN,UACE,uBAAOvF,KAAK,QAAQF,KAAK,QAAQ1B,UAAU,qCACpCsF,MAAOsB,EAAK9G,MAAOyF,SAAUuB,EAC7BrB,YAAY,QAAQG,UAAQ,IAEnC,uBAAOhE,KAAK,WAAWF,KAAK,WAAW1B,UAAU,wCAC1CsF,MAAOsB,EAAKD,SAAUpB,SAAUuB,EAChCrB,YAAY,uCAASC,UAAW,EAAGC,UAAW,GAAIC,UAAQ,IAEjE,wBAAQhE,KAAK,SAASC,aAAW,OACzB7B,UAAU,8CADlB,6HAIF,sBAAKA,UAAU,eAAf,UACE,qJACA,cAAC,IAAD,CAAMK,GAAG,WAAWL,UAAU,oBAA9B,mDCjDO,MAA0B,yCCA1B,MAA0B,yCC0B1BoH,MAtBf,SAAqBxG,GACnB,OACE,qBAAKZ,UAAS,wCAAmCY,EAAM+B,OAAS,eAAiB,IAAjF,SACE,sBAAK3C,UAAU,iBAAf,UACE,wBAAQ4B,KAAK,SAASC,aAAW,QACzB7B,UAAU,sBACVM,QAASM,EAAMgC,UAEvB,sBAAK5C,UAAU,eAAf,UACE,qBAAKC,IAAKW,EAAMyG,QAAUC,EAAmBC,EAAkBpH,IAAI,oGAAoBH,UAAU,wBACjG,mBAAGA,UAAU,wBAAb,SACGY,EAAMyG,QACL,wKACA,iNCgQCG,MA/Pf,WAAgB,IAAD,EACmB3C,oBAAS,GAD5B,mBACN2B,EADM,KACIiB,EADJ,OAEa5C,mBAAS,IAFtB,mBAEN/E,EAFM,KAEC4H,EAFD,KAGPC,EAAUC,cAHH,EAI6C/C,oBAAS,GAJtD,mBAINgD,EAJM,KAIkBC,EAJlB,OAKuCjD,oBAAS,GALhD,mBAKNkD,EALM,KAKeC,EALf,OAM2CnD,oBAAS,GANpD,mBAMNoD,EANM,KAMiBC,EANjB,OAO6CrD,oBAAS,GAPtD,mBAONsD,EAPM,KAOkBC,EAPlB,OAQiBvD,oBAAS,GAR1B,mBAQNwC,EARM,KAQGgB,EARH,OAS2BxD,oBAAS,GATpC,mBASNyD,EATM,KASQC,EATR,QAUyB1D,mBAAS,IAVlC,qBAUNhE,GAVM,MAUO2H,GAVP,SAWa3D,mBAAS,IAXtB,qBAWNrC,GAXM,MAWCiG,GAXD,SAYqB5D,oBAAS,GAZ9B,qBAYNK,GAZM,MAYKwD,GAZL,MAcPC,GAAaC,uBAAY,WAC7B,IAAMC,EAAQC,aAAaC,QAAQ,SAC/BF,GVJkB,SAACA,GACzB,OAAO3E,MAAM,GAAD,OAAIf,EAAJ,aAA8B,CACxCgB,OAAQ,MACRX,QAAS,CACP,OAAU,mBACV,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BqF,MAG5BzE,KAAKM,GUJJsE,CAAWH,GACRzE,MAAK,SAACR,GACDA,IACF6D,GAAY,GACZC,EAAS9D,EAAOgD,KAAK9G,OACrB6H,EAAQsB,KAAK,SAGhBC,OAAM,kBAAMvB,EAAQsB,KAAK,iBAE7B,CAACtB,IAoJJ,SAASwB,KACPjB,GAAuB,GACvBJ,GAAwB,GACxBE,GAAqB,GACrBI,GAAwB,GACxBG,GAAgB,GAGlB,OA1JAtD,qBAAU,WACR0D,OACC,CAACA,KAsCJ1D,qBAAU,WACR3B,EAAI8F,cACDhF,MAAK,SAACO,GACL6D,GAAe7D,MAEhBuE,OAAM,SAACG,GACNC,QAAQC,IAAIF,QAEf,IAEHpE,qBAAU,WACR3B,EAAIkG,kBACDpF,MAAK,SAACO,GACL8D,GAAS9D,MAEVuE,OAAM,SAACG,GACNC,QAAQC,IAAIF,QAEf,IAiGD,qBAAKrJ,UAAU,OAAf,SACE,eAACQ,EAAmBiJ,SAApB,CAA6BnE,MAAOzE,GAApC,UACE,cAAC,EAAD,CACEf,MAAOA,EACPC,UA5Ic,WACpB+I,aAAaY,WAAW,SACxBhC,EAAS,IACTD,GAAY,GACZE,EAAQsB,KAAK,eA0IT,eAAC,IAAD,WACE,cAAC,IAAD,CAAO7I,KAAK,WAAZ,SACE,cAAC,EAAD,CAAU4G,WAzIG,SAAC,GACtB,OVpEoB,SAAClH,EAAO6G,GAC9B,OAAOzC,MAAM,GAAD,OAAIf,EAAJ,WAA4B,CACtCgB,OAAQ,OACRX,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBc,KAAMC,KAAKC,UAAU,CAAC1E,QAAO6G,eAE5BvC,KAAKM,GU2DCiF,CADqC,EAArB7J,MAAqB,EAAd6G,UAE3BvC,MAAK,SAAAR,GAIJ,OAHAyE,GAAW,GACXD,GAAwB,GACxBT,EAAQsB,KAAK,YACNrF,KAERsF,OAAM,SAACG,GACNjB,GAAwB,GACxBkB,QAAQC,IAAIF,WAiIV,cAAC,IAAD,CAAOjJ,KAAK,WAAZ,SACE,cAAC,EAAD,CAAOsG,QAlKG,SAAC,GAAuB,IAAtB5G,EAAqB,EAArBA,MAAO6G,EAAc,EAAdA,SAC3B,OVlCqB,SAAC7G,EAAO6G,GAC/B,OAAOzC,MAAM,GAAD,OAAIf,EAAJ,WAA4B,CACtCgB,OAAQ,OACRX,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBc,KAAMC,KAAKC,UAAU,CAAC1E,QAAO6G,eAE5BvC,KAAKM,GUyBCkF,CAAU9J,EAAO6G,GACrBvC,MAAK,SAAAR,GACAA,EAAOiF,QACTpB,GAAY,GACZC,EAAS5H,GACT6H,EAAQsB,KAAK,KACbH,aAAae,QAAQ,QAASjG,EAAOiF,WAGxCK,OAAM,SAACG,GACNC,QAAQC,IAAIF,WAyJV,cAAC,EAAD,CACEjJ,KAAK,IACLoG,SAAUA,EACVD,UAAWtE,EACXE,aA1CV,WACE+F,GAAuB,IA0Cf9F,cAvCV,WACE0F,GAAwB,IAuChBxF,WApCV,WACE0F,GAAqB,IAoCbrG,YAjCV,SAAyBX,GACvBuH,EAAgBvH,IAiCRe,WApHV,SAAwBf,IACNA,EAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,GAAYK,OACAoC,EAAIwG,WAAW9I,EAAKE,KAAhDoC,EAAIyG,YAAY/I,EAAKE,MAEjDkD,MAAK,SAAC4F,GACL,IAAMC,EAAWzH,GAAMC,KAAI,SAACyH,GAAD,OAAOA,EAAEhJ,MAAQF,EAAKE,IAAM8I,EAAUE,KACjEzB,GAASwB,MAEVf,OAAM,SAACG,GACNC,QAAQC,IAAIF,OA4GRvH,aAxGV,SAA0Bd,GACxBsC,EAAI6G,WAAWnJ,EAAKE,KACjBkD,MAAK,WACJ,IAAM6F,EAAWzH,GAAM4H,QAAO,SAACF,GAAD,OAAOA,EAAEhJ,MAAQF,EAAKE,OACpDuH,GAASwB,MAEVf,OAAM,SAACG,GACNC,QAAQC,IAAIF,OAkGR7G,MAAOA,KAGT,cAAC,IAAD,UACGgE,EAAW,cAAC,IAAD,CAAUnG,GAAG,MAAQ,cAAC,IAAD,CAAUA,GAAG,kBAGlD,cAAC,EAAD,IAEA,cAAC,EAAD,CACEsC,OAAQkF,EACRjF,QAASuG,GACTjE,UAAWA,GACXG,aA1GR,SAA0BgF,GACxB3B,IAAa,GACbpF,EAAIgH,kBAAkBD,EAAK3I,KAAM2I,EAAKhI,OACnC+B,MAAK,SAACmG,GACL/B,GAAe+B,GACfpB,QAEDD,OAAM,SAACG,GACNC,QAAQC,IAAIF,MAEbmB,SAAQ,WACP9B,IAAa,SAkGb,cAAC,EAAD,CACE/F,OAAQoF,EACRnF,QAASuG,GACTjE,UAAWA,GACX5C,WAnFR,SAA8BtB,GAC5B0H,IAAa,GACbpF,EAAImH,YAAYzJ,EAAKU,KAAMV,EAAKS,MAC7B2C,MAAK,SAAC4F,GACLvB,GAAS,CAACuB,GAAF,mBAAcxH,MACtB2G,QAEDD,OAAM,SAACG,GACNC,QAAQC,IAAIF,MAEbmB,SAAQ,WACP9B,IAAa,SA2Eb,cAAC,EAAD,CAAY1H,KAAMsH,EAAc1F,QAASuG,KAEzC,cAAC,EAAD,CACExG,OAAQsF,EACRrF,QAASuG,GACTjE,UAAWA,GACXc,eA3GR,SAA4BvE,GAC1BiH,IAAa,GACbpF,EAAIoH,aAAajJ,EAAKS,QACnBkC,MAAK,SAACmG,GACL/B,GAAe+B,GACfpB,QAEDD,OAAM,SAACG,GACNC,QAAQC,IAAIF,MAEbmB,SAAQ,WACP9B,IAAa,SAmGb,cAAC,EAAD,CACEhH,KAAM,eACNmB,MAAO,2DACPI,iBAAkB,iBAGpB,cAAC,EAAD,CACEN,OAAQwF,EACRd,QAASA,EACTzE,QAASuG,WC9PJwB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBzG,MAAK,YAAkD,IAA/C0G,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJjI,SAASkI,eAAe,SAM1BX,M","file":"static/js/main.532332f7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.a307e1c4.svg\";","import logo from '../images/header-logo.svg';\nimport React from \"react\";\nimport {Link, Route, Switch} from 'react-router-dom';\n\nfunction Header({email, onSignOut}) {\n  const handleSignOut = function () {\n    onSignOut();\n  }\n\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Mesto Russia лого\" className=\"header__logo\"/>\n      <nav>\n        <ul className=\"header__navigation\">\n          <Switch>\n            <Route path=\"/sign-up\">\n              <li>\n                <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\n              </li>\n            </Route>\n            <Route path=\"/sign-in\">\n              <li>\n                <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\n              </li>\n            </Route>\n            <Route path=\"/\">\n              <div className=\"header__container\">\n                <li>\n                  <p className=\"header__email\">{email}</p>\n                </li>\n                <li>\n                  <Link to=\"/sign-in\" className=\"header__link\" onClick={handleSignOut}>Выйти</Link>\n                </li>\n              </div>\n            </Route>\n          </Switch>\n        </ul>\n      </nav>\n\n    </header>\n  )\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Footer() {\n  return(\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardRemoveButtonClassName = (\n    `cards__remove-button ${isOwn ? 'cards__remove-button' : 'cards__remove-button_hidden'}`\n  );\n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `cards__like-button ${isLiked ? 'cards__like-button_active' : 'cards__like-button'}`\n  );\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <div className=\"cards__group\">\n      <div className=\"cards__image-container\">\n        <img src={props.card.link} alt={props.card.name} className=\"cards__photo\" onClick={handleClick}/>\n        <button type=\"button\" aria-label=\"Remove\" className={cardRemoveButtonClassName} onClick={handleDeleteClick}/>\n      </div>\n      <div className=\"cards__description-area\">\n        <p className=\"cards__description\">{props.card.name}</p>\n        <div className=\"cards__like-kit\">\n          <button type=\"button\" aria-label=\"Like\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\n          <p className=\"cards__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>)\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__picture-kit\">\n          <img src={currentUser.avatar} alt=\"#\" className=\"profile__picture\"/>\n          <div className=\"profile__overlay\" onClick={props.onEditAvatar}/>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__name-kit\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button type=\"button\" aria-label=\"Edit\" className=\"profile__edit-button\" onClick={props.onEditProfile}/>\n          </div>\n          <p className=\"profile__title\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" aria-label=\"Add\" className=\"profile__add-button\" onClick={props.onAddPlace}/>\n      </section>\n\n      <div id=\"cards-template\" className=\"cards\">\n        {props.cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          )\n        )}\n      </div>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__content\">\n        <button type=\"button\" aria-label=\"Close\"\n                className={`popup__close-button popup__close-button_${props.name}`}\n                onClick={props.onClose}\n        />\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form name={`${props.name}Data`} className={`popup__form popup__${props.name}-form`} onSubmit={props.onSubmit}\n              noValidate>\n          {props.children}\n          <button type=\"submit\" aria-label=\"Save\" className=\"popup__save-button\">{props.submitButtonText}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup popup_type_image ${props.card ? 'popup_opened' : ''}`}>\n      <div className=\"overlay\"/>\n      <div className=\"popup__content-zoomed\">\n        <button type=\"button\" aria-label=\"Close\"\n                className=\"popup__close-button popup__close-button_image\"\n                onClick={props.onClose}\n        />\n        <form name=\"imageData\" className=\" popup__image-form\">\n          <img src={props.card ? props.card.link : '#'} alt={props.card ? props.card.name : ''}\n               className=\"zoomed-photo\"/>\n          <div className=\"caption\">{props.card ? props.card.name : ''}</div>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","export const editButton = document.querySelector('.profile__edit-button');\nexport const addCardButton = document.querySelector('.profile__add-button');\nexport const profilePicture = document.querySelector('.profile__picture');\nexport const profileName = document.querySelector('.profile__name');\nexport const profileTitle = document.querySelector('.profile__title');\nexport const profilePopupCloseButton = document.querySelector('.popup__close-button_profile');\nexport const popupNameField = document.querySelector('.popup__input_type_name');\nexport const popupTitleField = document.querySelector('.popup__input_type_title');\nexport const cardsContainer = '.cards';\nexport const profilePopup = document.querySelector('.popup_type_profile');\nexport const cardPopup = document.querySelector('.popup_type_card');\nexport const imagePopup = document.querySelector('.popup_type_image');\nexport const avatarPopup = document.querySelector('.popup_type_avatar');\nexport const confirmationPopup = document.querySelector('.popup_type_confirmation');\nexport const confirmationPopupCloseButton = document.querySelector('.popup__close-button_confirmation');\nexport const cardPopupCloseButton = document.querySelector('.popup__close-button_card');\nexport const cardPopupForm = document.querySelector('.popup__card-form');\nexport const profilePopupForm = document.querySelector('.popup__profile-form');\nexport const imagePopupCloseButton = document.querySelector('.popup__close-button_image');\nexport const popupCardTitle = document.querySelector('.popup__input_type_card-title');\nexport const popupCardLink = document.querySelector('.popup__input_type_card-link');\nexport const popupAvatarLink = document.querySelector('.popup__input_type_avatar-link');\nexport const avatarPopupForm = document.querySelector('.popup__avatar-form');\nexport const profilePictureKit = document.querySelector('.profile__picture-kit');\nexport const avatarPopupCloseButton = document.querySelector('.popup__close-button_avatar');\nexport const validationConfig = {\n  inputSelector: '.popup__input',\n  submitButtonSelector: '.popup__save-button',\n  inputInvalidClass: 'popup__form_type_error',\n  inputErrorClass: '.input-error',\n  buttonInvalidClass: 'popup__save-button_state_disabled',\n};\n\nexport const TOKEN = '62754a6c-b4dd-499b-bbf2-c3cad68b20ab';\nexport const BASE_URL = 'https://mesto.nomoreparties.co/v1/cohort-19';\nexport const AUTH_BASE_URL = 'https://auth.nomoreparties.co';\n","import {BASE_URL, TOKEN} from './constants';\n\nclass Api {\n  constructor({baseUrl, headers}) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkRequestStatus(result) {\n    if (result.ok) {\n      return result.json();\n    }\n    return Promise.reject(`Что-то пошло не так: ${result.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    })\n      .then(result => {\n        return this._checkRequestStatus(result)\n      })\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'GET',\n      headers: this._headers,\n    })\n      .then(result => {\n        return this._checkRequestStatus(result)\n      })\n  }\n\n  updateUserProfile(name, title) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: title\n      })\n    })\n      .then(result => {\n        return this._checkRequestStatus(result)\n      })\n  }\n\n  postNewCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(result => {\n        return this._checkRequestStatus(result)\n      })\n  }\n\n  addCardLike(id) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this._headers\n    })\n      .then(result => {\n        return this._checkRequestStatus(result)\n      })\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(result => {\n        return this._checkRequestStatus(result)\n      })\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(result => {\n        return this._checkRequestStatus(result);\n      })\n  }\n\n  updateAvatar(link) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    })\n      .then(result => {\n        return this._checkRequestStatus(result);\n      })\n  }\n}\n\nexport const api = new Api({\n  baseUrl: BASE_URL,\n  headers: {\n    authorization: TOKEN,\n    'Content-Type': 'application/json'\n  }\n})\n\n\n","import {AUTH_BASE_URL} from \"./constants\";\n\nconst responseCheck = (response) => response.ok\n  ? response.json()\n  : Promise.reject(`Ошибка ${response.status}`);\n\nexport const register = (email, password) => {\n  return fetch(`${AUTH_BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n    .then(responseCheck)\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${AUTH_BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n    .then(responseCheck)\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${AUTH_BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n    .then(responseCheck)\n}\n","import React, {useState, useEffect, useContext} from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState(currentUser.name);\n  const [description, setDescription] = useState(currentUser.about);\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  function handleNameChange(event) {\n    setName(event.target.value);\n  }\n\n  function handleDescriptionChange(event) {\n    setDescription(event.target.value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={'profile'}\n      title={'Редактировать профиль'}\n      submitButtonText={props.isLoading ? 'Сохранить...' : 'Сохранить'}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input type=\"text\" name=\"name\" className=\"popup__input popup__input_type_name\" id=\"name-input\"\n             value={name || ''} onChange={handleNameChange}\n             placeholder=\"Имя\" minLength={2} maxLength={40} required/>\n      <span id=\"name-input-error\" className=\"input-error\"/>\n      <input type=\"text\" name=\"title\" className=\"popup__input popup__input_type_title\" id=\"title-input\"\n             value={description || ''} onChange={handleDescriptionChange}\n             placeholder=\"О себе\" minLength={2} maxLength={200} required/>\n      <span id=\"title-input-error\" className=\"input-error\"/>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React, {useRef} from \"react\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = useRef();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n    avatarRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm\n      name={'avatar'}\n      title={'Обновить аватар'}\n      submitButtonText={props.isLoading ? 'Сохранить...' : 'Сохранить'}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input type=\"url\" name=\"link\" className=\"popup__input popup__input_type_avatar-link\" id=\"avatar-link-input\"\n             placeholder=\"Ссылка на картинку\" ref={avatarRef} required/>\n      <span id=\"avatar-link-input-error\" className=\"input-error input-error_avatar\"/>\n    </PopupWithForm>\n  )\n\n}\n\nexport default EditAvatarPopup;\n","import PopupWithForm from \"./PopupWithForm\";\nimport React, {useState} from \"react\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  function handleNameChange(event) {\n    setName(event.target.value);\n  }\n\n  function handleLinkChange(event) {\n    setLink(event.target.value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    props.onAddPlace({\n      name,\n      link\n    });\n    setName('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm\n      name={'card'}\n      title={'Новое место'}\n      submitButtonText={props.isLoading ? 'Сохранить...' : 'Сохранить'}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input type=\"text\" name=\"name\" className=\"popup__input popup__input_type_card-title\" id=\"card-title-input\"\n             value={name} onChange={handleNameChange}\n             placeholder=\"Название\" minLength={2} maxLength={30} required/>\n      <span id=\"card-title-input-error\" className=\"input-error\"/>\n      <input type=\"url\" name=\"link\" className=\"popup__input popup__input_type_card-link\" id=\"card-link-input\"\n             value={link} onChange={handleLinkChange}\n             placeholder=\"Ссылка на картинку\" required/>\n      <span id=\"card-link-input-error\" className=\"input-error\"/>\n    </PopupWithForm>\n  )\n\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport {Route, Redirect} from \"react-router-dom\";\n\nconst ProtectedRoute = ({component: Component, ...props}) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\"/>\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;\n","import React, {useState} from \"react\";\n\nfunction Login({onLogin}) {\n  const initialData = {\n    email: '',\n    password: '',\n  }\n  const [data, setData] = useState(initialData);\n\n  const handleChange = (event) => {\n    const {name, value} = event.target;\n    setData(data => ({\n      ...data,\n      [name]: value,\n    }));\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (!data.email || !data.password) {\n      return;\n    }\n    onLogin(data)\n  }\n\n  return (\n    <div className=\"auth\">\n      <h2 className=\"auth__title\">Вход</h2>\n      <form name=\"login\" className=\"auth__form\" onSubmit={handleSubmit}>\n        <input type=\"email\" name=\"email\" className=\"auth__input auth__input_type_email\"\n               value={data.email} onChange={handleChange}\n               placeholder=\"Email\" required\n        />\n        <input type=\"password\" name=\"password\" className=\"auth__input auth__input_type_password\"\n               value={data.password} onChange={handleChange}\n               placeholder=\"Пароль\" minLength={6} maxLength={20} required\n        />\n        <button type=\"submit\" aria-label=\"Save\" className=\"auth__save-button auth__save-button_sign-in\">Войти</button>\n      </form>\n    </div>\n\n  )\n}\n\nexport default Login;\n","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\n\nfunction Register({onRegister}) {\n  const initialData = {\n    email: '',\n    password: '',\n  }\n  const [data, setData] = useState(initialData);\n\n  const handleChange = (e) => {\n    const {name, value} = e.target;\n    setData(data => ({\n      ...data,\n      [name]: value,\n    }));\n  }\n\n  const resetForm = () => {\n    setData(initialData);\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (!data.email || !data.password) {\n      return;\n    }\n    onRegister(data)\n      .then(resetForm)\n  }\n\n  return (\n    <div className=\"auth\">\n      <h2 className=\"auth__title\">Регистрация</h2>\n      <form name=\"login\" className=\"auth__form\" onSubmit={handleSubmit}>\n        <input type=\"email\" name=\"email\" className=\"auth__input auth__input_type_email\"\n               value={data.email} onChange={handleChange}\n               placeholder=\"Email\" required\n        />\n        <input type=\"password\" name=\"password\" className=\"auth__input auth__input_type_password\"\n               value={data.password} onChange={handleChange}\n               placeholder=\"Пароль\" minLength={6} maxLength={20} required\n        />\n        <button type=\"submit\" aria-label=\"Save\"\n                className=\"auth__save-button auth__save-button_sign-up\">Зарегистрироваться\n        </button>\n      </form>\n      <div className=\"auth__signin\">\n        <p>Уже зарегистрированы?</p>\n        <Link to=\"/sign-in\" className=\"auth__signin-link\">Войти</Link>\n      </div>\n    </div>\n  )\n}\n\nexport default Register;\n","export default __webpack_public_path__ + \"static/media/auth-failure.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/auth-success.6a432c88.svg\";","import React from \"react\";\nimport authFailureImage from \"../images/auth-failure.svg\";\nimport authSuccessImage from \"../images/auth-success.svg\";\n\nfunction InfoTooltip(props) {\n  return(\n    <div className={`popup popup_type_info-tooltip ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__content\">\n        <button type=\"button\" aria-label=\"Close\"\n                className=\"popup__close-button\"\n                onClick={props.onClose}\n        />\n        <div className=\"info-tooltip\">\n          <img src={props.success ? authSuccessImage : authFailureImage} alt=\"Ответ регистрации\" className=\"info-tooltip__image\"/>\n          <p className=\"info-tooltip__message\">\n            {props.success ?\n              \"Вы успешно зарегистрировались!\" :\n              \"Что-то пошло не так! Попробуйте ещё раз.\"\n            }\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip;\n","import React, {useCallback, useEffect, useState} from \"react\";\nimport {Redirect, Route, Switch, useHistory} from 'react-router-dom';\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport {api} from \"../utils/api\";\nimport {authorize, checkToken, register} from \"../utils/auth\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState('');\n  const history = useHistory();\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const tokenCheck = useCallback(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      checkToken(token)\n        .then((result) => {\n          if (result) {\n            setLoggedIn(true);\n            setEmail(result.data.email);\n            history.push('/');\n          }\n        })\n        .catch(() => history.push('/sign-in'));\n    }\n  }, [history])\n\n  useEffect(() => {\n    tokenCheck();\n  }, [tokenCheck])\n\n  const handleLogin = ({email, password}) => {\n    return authorize(email, password)\n      .then(result => {\n        if (result.token) {\n          setLoggedIn(true);\n          setEmail(email);\n          history.push('/');\n          localStorage.setItem('token', result.token);\n        }\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n\n  const handleSignOut = () => {\n    localStorage.removeItem('token');\n    setEmail('');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  const handleRegister = ({email, password}) => {\n    return register(email, password)\n      .then(result => {\n        setSuccess(true);\n        setInfoTooltipPopupOpen(true);\n        history.push('/sign-in');\n        return result\n      })\n      .catch((error) => {\n        setInfoTooltipPopupOpen(true);\n        console.log(error)\n      })\n  }\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then((response) => {\n        setCurrentUser(response)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }, [])\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then((response) => {\n        setCards(response)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }, [])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    const likeRequest = !isLiked ? api.addCardLike(card._id) : api.deleteLike(card._id);\n    likeRequest\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((error) => {\n        console.log(error)\n      });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n    ;\n  }\n\n  function handleUpdateUser(user) {\n    setIsLoading(true);\n    api.updateUserProfile(user.name, user.about)\n      .then((updatedUser) => {\n        setCurrentUser(updatedUser);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleUpdateAvatar(link) {\n    setIsLoading(true);\n    api.updateAvatar(link.avatar)\n      .then((updatedUser) => {\n        setCurrentUser(updatedUser);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setIsLoading(true);\n    api.postNewCard(card.name, card.link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setInfoTooltipPopupOpen(false);\n    setSelectedCard(false);\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          email={email}\n          onSignOut={handleSignOut}\n        />\n        <Switch>\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister}/>\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLogin}/>\n          </Route>\n          <ProtectedRoute\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n          />\n\n          <Route>\n            {loggedIn ? <Redirect to=\"/\"/> : <Redirect to=\"/sign-in\"/>}\n          </Route>\n        </Switch>\n        <Footer/>\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <PopupWithForm\n          name={'confirmation'}\n          title={'Вы уверены?'}\n          submitButtonText={'Да'}>\n        </PopupWithForm>\n\n        <InfoTooltip\n          isOpen={isInfoTooltipPopupOpen}\n          success={success}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}